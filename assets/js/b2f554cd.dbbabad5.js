"use strict";(self.webpackChunkrushstack_io=self.webpackChunkrushstack_io||[]).push([[1477],{10:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"/2023/06/16/heft-migration-guide","metadata":{"permalink":"/blog/2023/06/16/heft-migration-guide","editUrl":"https://github.com/microsoft/rushstack-websites/tree/main/websites/rushstack.io/blog/2023-06-16-heft-migration-guide.md","source":"@site/blog/2023-06-16-heft-migration-guide.md","title":"Heft 0.51 Migration Guide","description":"The Heft 0.51.0 release introduces a \\"multi-phase\\" feature that brings some significant architectural changes. If you\'ve been using an older version, upgrading will require making some changes to your Heft config files and also any custom plugins that you may have authored. In this post, we\'ll summarized what changed and how to migrate your projects. This is probably the last major breaking change before the 1.0.0 release of Heft.","date":"2023-06-16T00:00:00.000Z","formattedDate":"June 16, 2023","tags":[{"label":"heft","permalink":"/blog/tags/heft"}],"readingTime":9.985,"hasTruncateMarker":true,"authors":[{"name":"Daniel Nadeau","title":"Rush Stack maintainer","url":"https://github.com/D4N14L","imageURL":"https://github.com/D4N14L.png","key":"D4N14L"},{"name":"Pete Gonzalez","title":"Rush Stack maintainer","url":"https://github.com/octogonz","imageURL":"https://github.com/octogonz.png","key":"octogonz"}],"frontMatter":{"title":"Heft 0.51 Migration Guide","authors":["D4N14L","octogonz"],"tags":["heft"],"draft":false,"hide_table_of_contents":false},"nextItem":{"title":"What\'s New in Heft 0.51","permalink":"/blog/2023/06/15/heft-whats-new"}},"content":"The Heft **0.51.0** release introduces a \\"multi-phase\\" feature that brings some significant architectural changes. If you\'ve been using an older version, upgrading will require making some changes to your **Heft config files** and also any **custom plugins** that you may have authored. In this post, we\'ll summarized what changed and how to migrate your projects. This is probably the last major breaking change before the 1.0.0 release of Heft.\\r\\n\\r\\n\x3c!--truncate--\x3e\\r\\n\\r\\n> For a deeper dive into the multi-phase design and its underlying motivation, please see our other post [What\'s New in Heft 0.51](/blog/2023/06/15/heft-whats-new/).\\r\\n\\r\\n## Version timeline\\r\\n\\r\\nAlthough most of the breaking changes are in Heft **0.51.0**, other significant changes were made in several subsequent versions:\\r\\n\\r\\n- Heft **0.51.0**: The big architecture change for multi-phase support, with breaking changes for config file schemas and plugin APIs\\r\\n- Heft **0.52.0**: Restored support for the `heft start` alias (which had been removed in 0.51.0); added the ability to define custom aliases; `@rushstack/heft-node-rig` now launches its dev server using the same `heft start` alias as `@rushstack/heft-web-rig`\\r\\n- Heft **0.53.0**: Removed the `taskEvents` config setting; built-in tasks like `copy-files-plugin` and `node-service-plugin` now use identical configuration as third-party plugins (simply specifying `@rushstack/heft` as their plugin package name)\\r\\n- Heft **0.54.0**: Restored support for short parameter names such as `-u` in `heft test -u` (which had been removed in 0.51.0)\\r\\n- Heft **0.55.0**: Removed `cacheFolderPath` from plugin API\'s session object, since the `.cache` folder is no longer used\\r\\n\\r\\nTo simplify these migration notes, in this article we\'ll assume you\'re upgrading to **0.55.0 or newer**, and that you\'re coming from **0.50.x or older**.\\r\\n\\r\\n## Migrating heft.json files\\r\\n\\r\\n### JSON Schema URL changes\\r\\n\\r\\nIn order to have correct VS Code IntelliSense when editing config files, update the `\\"$schema\\"` field in each Heft config file. Simply replace `json-schemas/heft/` with `json-schemas/heft/v0`.\\r\\n\\r\\nFor example:\\r\\n\\r\\n- Old: `\\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/heft.schema.json\\"`\\r\\n- New: `\\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/heft.schema.json\\"`\\r\\n\\r\\nThe full list of JSON schema names can be found [in this GitHub folder](https://github.com/microsoft/json-schemas/tree/main/heft/v0). These names are the last part of the URL shown above.\\r\\n\\r\\n### Plugins must be explicitly loaded\\r\\n\\r\\nIn the old design, a number of plugins were built-in to `@rushstack/heft` and did not need to be explicitly loaded using **heft.json** settings. If their associated config file was not found, then their task would be silently skipped.\\r\\n\\r\\n**OLD:** Plugins that were implicitly loaded:\\r\\n\\r\\n- heft-typescript-plugin\\r\\n- copy-static-assets-plugin\\r\\n- copy-files-plugin\\r\\n- delete-globs-plugin\\r\\n- run-script-plugin\\r\\n- api-extractor-plugin\\r\\n- project-validator-plugin\\r\\n- node-service-plugin\\r\\n\\r\\n**NEW:** After migrating, every plugin must be explicitly loaded via the **heft.json** config file. Typically this is inherited from your rig. This new model eliminates magic and mysteries, since the full set of plugins and their dependencies is now represented in the config file.\\r\\n\\r\\nIf you are using our `@rushstack/heft-node-rig` and `@rushstack/heft-web-rig`, your project should only need minor changes, since the updated rigs now explicitly load all these plugins. If you created a custom rig, the migration work will be more involved, but you can copy from our examples:\\r\\n\\r\\n- [heft-node-rig/profiles/default/config/heft.json](https://github.com/microsoft/rushstack/blob/main/rigs/heft-node-rig/profiles/default/config/heft.json)\\r\\n- [heft-web-rig/profiles/app/config/heft.json](https://github.com/microsoft/rushstack/blob/main/rigs/heft-web-rig/profiles/app/config/heft.json)\\r\\n\\r\\n### Migrating package.json dependencies\\r\\n\\r\\nMany of these plugins have been extracted into their own NPM packages. This reduces the startup time and installation footprint for projects that don\'t use certain plugins.\\r\\n\\r\\nHere\'s the current inventory as of this writing:\\r\\n\\r\\n- [@rushstack/heft](https://github.com/microsoft/rushstack/tree/main/apps/heft): Its [heft-plugin.json](https://github.com/microsoft/rushstack/blob/main/apps/heft/heft-plugin.json) defines multiple plugins copy-files-plugin, delete-files-plugin, node-service-plugin, run-script-plugin\\r\\n- [@rushstack/heft-api-extractor-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-api-extractor-plugin)\\r\\n- [@rushstack/heft-dev-cert-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-dev-cert-plugin)\\r\\n- [@rushstack/heft-jest-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-jest-plugin)\\r\\n- [@rushstack/heft-lint-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-lint-plugin)\\r\\n- [@rushstack/heft-sass-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-sass-plugin)\\r\\n- [@rushstack/heft-serverless-stack-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-serverless-stack-plugin)\\r\\n- [@rushstack/heft-storybook-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-storybook-plugin)\\r\\n- [@rushstack/heft-typescript-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-typescript-plugin)\\r\\n- [@rushstack/heft-webpack4-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-webpack4-plugin)\\r\\n- [@rushstack/heft-webpack5-plugin](https://github.com/microsoft/rushstack/tree/main/heft-plugins/heft-webpack5-plugin)\\r\\n\\r\\n### Migrating a standalone heft.json\\r\\n\\r\\nThe old **heft.json** distinguished \\"event actions\\" (i.e. built-in tasks) versus \\"heftPlugins\\" (i.e. tasks from plugin packages).\\r\\n\\r\\n**OLD:** **heft.json** excerpt from `heft-node-rig`\\r\\n\\r\\n```ts\\r\\n// \u26a0\ufe0f OLD FORMAT EXAMPLE -- DO NOT USE! \u26a0\ufe0f\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/heft.schema.json\\",\\r\\n\\r\\n  // \\"deleteGlobs\\" is specified to run with the \\"clean\\" event\\r\\n  \\"eventActions\\": [\\r\\n    {\\r\\n      // \ud83d\udccc [1] old way of cleaning\\r\\n      \\"actionKind\\": \\"deleteGlobs\\",\\r\\n      \\"heftEvent\\": \\"clean\\",\\r\\n      \\"actionId\\": \\"defaultClean\\",\\r\\n      \\"globsToDelete\\": [\\"dist\\", \\"lib\\", \\"lib-commonjs\\", \\"temp\\"]\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  // the Jest plugin is loaded using the \\"heftPlugins\\" section\\r\\n  // and its event sequence was defined using program logic\\r\\n  \\"heftPlugins\\": [\\r\\n    // \ud83d\udccc [2] old way of loading a plugin\\r\\n    { \\"plugin\\": \\"@rushstack/heft-jest-plugin\\" }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n**NEW:** **heft.json** excerpt from `heft-node-rig`\\r\\n\\r\\n```ts\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/heft.schema.json\\",\\r\\n\\r\\n  \\"phasesByName\\": {\\r\\n    // (\\"build\\" is a user-defined name, not a schema field)\\r\\n    \\"build\\": {\\r\\n      // \ud83d\udccc [1] new way of cleaning\\r\\n      \\"cleanFiles\\": [\\r\\n        { \\"sourcePath\\": \\"dist\\" },\\r\\n        { \\"sourcePath\\": \\"lib\\" },\\r\\n        { \\"sourcePath\\": \\"lib-commonjs\\" }\\r\\n      ],\\r\\n      \\"tasksByName\\": {\\r\\n        // (\\"typescript\\" is a user-defined name, not a schema field)\\r\\n        \\"typescript\\": {\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft-typescript-plugin\\"\\r\\n          }\\r\\n        },\\r\\n        \\"lint\\": {\\r\\n          \\"taskDependencies\\": [\\"typescript\\"],\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft-lint-plugin\\"\\r\\n          }\\r\\n        },\\r\\n        \\"api-extractor\\": {\\r\\n          \\"taskDependencies\\": [\\"typescript\\"],\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft-api-extractor-plugin\\"\\r\\n          }\\r\\n        },\\r\\n        \\"node-service\\": {\\r\\n          \\"taskDependencies\\": [\\"typescript\\"],\\r\\n          \\"taskPlugin\\": {\\r\\n            // This built-in plugin specifies \\"@rushstack/heft\\" as its package name\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft\\",\\r\\n            \\"pluginName\\": \\"node-service-plugin\\"\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n\\r\\n    // (\\"test\\" is a user-defined name, not a schema field)\\r\\n    \\"test\\": {\\r\\n      \\"phaseDependencies\\": [\\"build\\"],\\r\\n      \\"tasksByName\\": {\\r\\n        // (\\"jest\\" is a user-defined name for this task)\\r\\n        \\"jest\\": {\\r\\n          // \ud83d\udccc [2] new way of loading a plugin\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft-jest-plugin\\"\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\nLooking at the above example, the major changes are:\\r\\n\\r\\n- every task must be explicitly loaded from a `pluginPackage`, so the rig\'s **heft.json** is now more verbose (but more understandable!)\\r\\n- built-in tasks (e.g. `node-service`) have identical specification as external plugins\\r\\n- the old `\\"heftEvent\\"` lifecycle has been replaced by `phaseDependencies` and `taskDependencies` whose dependency graph determines the sequencing of tasks\\r\\n\\r\\nThe complete config file can be found here: [heft-node-rig/profiles/default/config/heft.json](https://github.com/microsoft/rushstack/blob/main/rigs/heft-node-rig/profiles/default/config/heft.json)\\r\\n\\r\\n### Migrating a rigged heft.json\\r\\n\\r\\nHere\'s another example from the [TSDoc Playground](https://tsdoc.org/play/) project, whose [heft.json](https://github.com/microsoft/tsdoc/blob/main/playground/config/heft.json) inherits from our `heft-web-rig`:\\r\\n\\r\\n**OLD:** **heft.json** excerpt from `playground/config/heft.json`\\r\\n\\r\\n```ts\\r\\n// \u26a0\ufe0f OLD FORMAT EXAMPLE -- DO NOT USE! \u26a0\ufe0f\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/heft.schema.json\\",\\r\\n\\r\\n  \\"extends\\": \\"@rushstack/heft-web-rig/profiles/library/config/heft.json\\",\\r\\n\\r\\n  \\"eventActions\\": [\\r\\n    {\\r\\n      \\"actionId\\": \\"copyLicenseToDistFolder\\",\\r\\n      \\"actionKind\\": \\"copyFiles\\",\\r\\n      // \ud83d\udccc [3] old way to do a post-compile action\\r\\n      \\"heftEvent\\": \\"compile\\",\\r\\n      \\"copyOperations\\": [\\r\\n        {\\r\\n          \\"destinationFolders\\": [\\"./dist\\"],\\r\\n          // \ud83d\udccc [4] old way of specifying a source folder\\r\\n          \\"sourceFolder\\": \\"..\\",\\r\\n          \\"includeGlobs\\": [\\"LICENSE\\"]\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n**NEW:** **heft.json** excerpt from `playground/config/heft.json`\\r\\n\\r\\n```ts\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/heft.schema.json\\",\\r\\n\\r\\n  \\"extends\\": \\"@rushstack/heft-web-rig/profiles/library/config/heft.json\\",\\r\\n\\r\\n  \\"phasesByName\\": {\\r\\n    // (\\"build\\" is a user-defined name, not a schema field)\\r\\n    \\"build\\": {\\r\\n      \\"tasksByName\\": {\\r\\n        // (\\"post-compile-copy\\" is a user-defined name, not a schema field)\\r\\n        \\"post-compile-copy\\": {\\r\\n          // \ud83d\udccc [3] new way to do a post-compile action, by depending on the relevant task(s)\\r\\n\\r\\n          // The \\"post-compile-copy\\" task should not run until after \\"typescript\\" completes\\r\\n          \\"taskDependencies\\": [\\"typescript\\"],\\r\\n\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginName\\": \\"copy-files-plugin\\",\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft\\",\\r\\n            \\"options\\": {\\r\\n              \\"copyOperations\\": [\\r\\n                {\\r\\n                  // \ud83d\udccc [4] new way of specifying a source folder (or file path)\\r\\n                  \\"sourcePath\\": \\"..\\",\\r\\n                  \\"destinationFolders\\": [\\"./dist\\"],\\r\\n                  \\"includeGlobs\\": [\\"LICENSE\\"]\\r\\n                }\\r\\n              ]\\r\\n            }\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\nObservations:\\r\\n\\r\\n- The changes here are minimal, since the rig provides most of the build definition\\r\\n- The latest `heft-web-rig` uses `heft-webpack5-plugin`, so we had to upgrade from Webpack 4 -> 5 as part of this conversion\\r\\n- The `\\"heftEvent\\": \\"compile\\"` event no longer exists; instead it must be represented via an equivalent `\\"taskDependencies\\"` entry, which references the rig\'s `\\"typescript\\"` task definition\\r\\n\\r\\n### Migrating a \\"pre-compile\\" action\\r\\n\\r\\nIn the above example, we migrated our config file by replacing `\\"heftEvent\\": \\"compile\\"`\\r\\nwith `\\"taskDependencies\\": [\\"typescript\\"]`, which accomplishes the same thing by expressing that the\\r\\naction cannot be performed until after the `\\"typescript\\"` task has completed. But the `\\"taskDependencies\\"`\\r\\nis a unidirectional relationship. In this new model, how can we represent an event such as `pre-compile`?\\r\\n\\r\\nConsider this example:\\r\\n\\r\\n**OLD:** **heft.json** excerpt\\r\\n\\r\\n```ts\\r\\n// \u26a0\ufe0f OLD FORMAT EXAMPLE -- DO NOT USE! \u26a0\ufe0f\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/heft.schema.json\\",\\r\\n\\r\\n  \\"extends\\": \\"@rushstack/heft-web-rig/profiles/app/config/heft.json\\",\\r\\n\\r\\n  \\"eventActions\\": [\\r\\n    {\\r\\n      \\"actionKind\\": \\"copyFiles\\",\\r\\n      \\"actionId\\": \\"copyAssets\\",\\r\\n      // \ud83d\udccc [5] old way to do a \\"post-compile\\" action\\r\\n      \\"heftEvent\\": \\"pre-compile\\",\\r\\n      \\"copyOperations\\": [\\r\\n        {\\r\\n          \\"sourceFolder\\": \\"assets\\",\\r\\n          \\"destinationFolders\\": [\\"dist\\"],\\r\\n          \\"includeGlobs\\": [\\"images/*\\"]\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n**NEW:** **heft.json** excerpt from `playground/config/heft.json`\\r\\n\\r\\n```ts\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/heft.schema.json\\",\\r\\n\\r\\n  \\"extends\\": \\"@rushstack/heft-web-rig/profiles/app/config/heft.json\\",\\r\\n\\r\\n  \\"phasesByName\\": {\\r\\n    // (\\"build\\" is a user-defined name, not a schema field)\\r\\n    \\"build\\": {\\r\\n      \\"tasksByName\\": {\\r\\n        // (\\"pre-compile-copy\\" is a user-defined name, not a schema field)\\r\\n        \\"pre-compile-copy\\": {\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft\\",\\r\\n            \\"pluginName\\": \\"copy-files-plugin\\",\\r\\n            \\"options\\": {\\r\\n              \\"copyOperations\\": [\\r\\n                {\\r\\n                  \\"sourcePath\\": \\"assets\\",\\r\\n                  \\"destinationFolders\\": [\\"dist\\"],\\r\\n                  \\"includeGlobs\\": [\\"images/*\\", \\"demos/*.json\\"]\\r\\n                }\\r\\n              ]\\r\\n            }\\r\\n          }\\r\\n        },\\r\\n\\r\\n        // (\\"typescript\\" is a user-defined name, that is originally defined in the rig)\\r\\n        \\"typescript\\": {\\r\\n          // \ud83d\udccc [5] new way to do a \\"post-compile\\" action\\r\\n          // The \\"typescript\\" task should not run until after \\"pre-compile-copy\\" completes.\\r\\n          \\"taskDependencies\\": [\\"pre-compile-copy\\"]\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\nFor reference, `@rushstack/heft-web-rig` defines the `\\"typescript\\"` task as follows:\\r\\n\\r\\n[heft-web-rig/profiles/app/config/heft.json](https://github.com/microsoft/rushstack/blob/main/rigs/heft-web-rig/profiles/app/config/heft.json) excerpt\\r\\n\\r\\n```js\\r\\n  . . .\\r\\n  \\"typescript\\": {\\r\\n    \\"taskDependencies\\": [\\"sass\\"],\\r\\n    \\"taskPlugin\\": {\\r\\n      \\"pluginPackage\\": \\"@rushstack/heft-typescript-plugin\\"\\r\\n    }\\r\\n  },\\r\\n  . . .\\r\\n```\\r\\n\\r\\nObservations:\\r\\n\\r\\n- Recall that we implemented `\\"post-compile-copy\\"` by specifying `taskDependencies` for our own task (`\\"taskDependencies\\": [\\"typescript\\"]`)\\r\\n- By contrast, `\\"pre-compile-copy\\"` is implemented by amending the `taskDependencies` for the rig\'s `\\"typescript\\"` task\\r\\n  (`\\"taskDependencies\\": [\\"pre-compile-copy\\"]`)\\r\\n- The rig already has `\\"taskDependencies\\": [\\"sass\\"]`. But we do NOT need to specify `\\"taskDependencies\\": [\\"typescript\\", \\"sass\\"]` because by default, Heft\'s config parser will merge arrays by appending rather than replacing entries\\r\\n- This merge behavior is implemented by `@rushstack/heft-config-file` and can be customized using\\r\\n  [property inheritance directives](/blog/2023/06/15/heft-whats-new/#heftjson-property-inheritance-directives)\\r\\n\\r\\n## Migrating command line syntax\\r\\n\\r\\nThe old `--watch` command line parameter has been removed. Instead, watch mode is enabled by appending `-watch`\\r\\nto the action name.\\r\\n\\r\\n**OLD:**\\r\\n\\r\\n```shell\\r\\nheft build --watch --verbose\\r\\n```\\r\\n\\r\\n**NEW:**\\r\\n\\r\\n```\\r\\nheft build-watch --verbose\\r\\n```\\r\\n\\r\\n## Command aliases\\r\\n\\r\\nIn the old design, `heft start` was a special action for launching dev servers. In the new design, it is\\r\\na command alias defined in **heft.json**. The new aliasing system allows you to define your own custom aliases\\r\\nto shorten common commands.\\r\\n\\r\\n[heft-web-rig/profiles/app/config/heft.json](https://github.com/microsoft/rushstack/blob/main/rigs/heft-web-rig/profiles/app/config/heft.json) excerpt\\r\\n\\r\\n```js\\r\\n  // Define \\"heft start\\" to be an alias for \\"heft build-watch --serve\\".\\r\\n  \\"aliasesByName\\": {\\r\\n    \\"start\\": {\\r\\n      \\"actionName\\": \\"build-watch\\",\\r\\n      \\"defaultParameters\\": [\\"--serve\\"]\\r\\n    }\\r\\n  },\\r\\n```\\r\\n\\r\\nThe `--serve` CLI parameter is our standard convention for launching a `localhost` dev server. It is supported by both `heft-webpack5-plugin` and the built-in `node-service-plugin`.\\r\\n\\r\\n## Migrating custom plugins\\r\\n\\r\\nIn updating to the new version of Heft, plugins will also need to be updated for compatibility. Some of the more notable API changes include:\\r\\n\\r\\n- The **heft-plugin.json** manifest file must accompany any plugin package. If no **heft-plugin.json** file is found, Heft will report an error.\\r\\n- Plugin classes must have parameterless constructors, and must be the default export of the file pointed to by the `entryPoint` property in **heft-plugin.json**\\r\\n- Schema files for options provided in **heft.json** can now be specified using the `optionsSchema` property in **heft-plugin.json** and they will be validated by Heft\\r\\n- Parameters are now defined in **heft-plugin.json** and are consumed in the plugin via the `IHeftTaskSession.parameters` or `IHeftLifecycleSession.parameters` property.\\r\\n  _NOTE: Other than the default Heft-included parameters, only parameters defined by the calling plugin are accessible_\\r\\n- Plugins can no longer define their own actions. If a plugin requires its own action, a dedicated phase should be added to the consumers **heft.json**\\r\\n- The `runScript` Heft event has been modified to only accept a `runAsync` method, and the properties have been updated to reflect what is available to normal Heft task plugins\\r\\n- Path-related variables have been renamed to clarify they are paths (ex. `HeftConfiguration.buildFolder` is now `HeftConfiguration.buildFolderPath`)\\r\\n- The `runIncremental` hook can now be utilized to ensure that watch mode rebuilds occur in proper dependency order\\r\\n- The `clean` hook was removed in favor of the `cleanFiles` option in **heft.json** in order to make it obvious what files are being cleaned and when\\r\\n- As a consequence, plugins can no longer programmatically compute folders to be cleaned by the `heft clean` command; its behavior is predetermined by static config files, which makes the overall system simpler and more predictable.\\r\\n\\r\\n## Miscellaneous migration notes\\r\\n\\r\\n- In **jest.config.json**, the `folderNameForTests` and `extensionForTests` properties have been removed and should instead be addressed via the `testMatch` property\\r\\n- The `node-service-plugin` built-in plugin now supports the `--serve` parameter, to be consistent with the `@rushstack/heft-webpack5-plugin` dev server.\\r\\n- If `--serve` is specified and `config/node-service.json` is omitted, then `node-service-plugin` fails with a hard error\\r\\n- Although `@rushstack/heft-lint-plugin` and `@rushstack/heft-typescript-plugin` have been extracted into separate NPM packages, they must be invoked in the same phase, due to their optimized communication using a [plugin accessor](/blog/2023/06/15/heft-whats-new/#cross-plugin-interaction)."},{"id":"/2023/06/15/heft-whats-new","metadata":{"permalink":"/blog/2023/06/15/heft-whats-new","editUrl":"https://github.com/microsoft/rushstack-websites/tree/main/websites/rushstack.io/blog/2023-06-15-heft-whats-new.md","source":"@site/blog/2023-06-15-heft-whats-new.md","title":"What\'s New in Heft 0.51","description":"\\"Multi-phase\\" Heft is a complete re-write of the @rushstack/heft project with the goal of integrating more closely with Rush phased builds. In addition, this update brings greater customizability and improved parallel process handling to Heft. This post explains the motivation and architecture behind these improvements.","date":"2023-06-15T00:00:00.000Z","formattedDate":"June 15, 2023","tags":[{"label":"heft","permalink":"/blog/tags/heft"}],"readingTime":10.94,"hasTruncateMarker":true,"authors":[{"name":"Daniel Nadeau","title":"Rush Stack maintainer","url":"https://github.com/D4N14L","imageURL":"https://github.com/D4N14L.png","key":"D4N14L"}],"frontMatter":{"title":"What\'s New in Heft 0.51","authors":["D4N14L"],"tags":["heft"],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"Heft 0.51 Migration Guide","permalink":"/blog/2023/06/16/heft-migration-guide"},"nextItem":{"title":"About the Rush Stack blog","permalink":"/blog/2023/06/01/blog-launch"}},"content":"\\"Multi-phase\\" Heft is a complete re-write of the `@rushstack/heft` project with the goal of integrating more closely with [Rush phased builds](@rushjs/pages/maintainer/phased_builds/). In addition, this update brings greater customizability and improved parallel process handling to Heft. This post explains the motivation and architecture behind these improvements.\\r\\n\\r\\n\x3c!--truncate--\x3e\\r\\n\\r\\n> For upgrade instructions, refer to the [Heft 0.51 Migration Guide](/blog/2023/06/16/heft-migration-guide) post.\\r\\n\\r\\nSome key areas that were improved with the updated version of Heft include:\\r\\n\\r\\n- Developer-defined order of execution for Heft plugins and Heft events\\r\\n- Partial execution of Heft actions via scoping parameters like `--to` or `--only`\\r\\n- A simplified plugin API for developers making Heft plugins\\r\\n- Explicit definition of all Heft plugins via **heft-plugin.json**\\r\\n- Native support for defining multiple plugins within a single plugin package\\r\\n- Improved handling of plugin parameters\\r\\n- Native support for incremental watch-mode in Heft actions\\r\\n- Reduced overhead and performance improvements\\r\\n- Much more!\\r\\n\\r\\n## Heft tasks\\r\\n\\r\\nHeft tasks are the smallest unit of work specified in **heft.json**. Heft tasks may take dependencies on other tasks within the same phase, and all task dependencies must complete execution before dependent tasks can execute.\\r\\n\\r\\nIn past releases, we distinguished built-in tasks (`copy-files-plugin`, `node-service-plugin`, etc)\\r\\nversus third-party tasks loaded from plugin packages. As of Heft 0.53.0 both kinds of tasks\\r\\nare now declared identically. Built-in plugins simply specify `@rushstack/heft` as for\\r\\ntheir plugin `packageName`.\\r\\n\\r\\n## Heft phases\\r\\n\\r\\nHeft phases define a collection of tasks that will run when executing that phase. Phases act as a logical collection of tasks that would reasonably (but not necessarily) map to a [Rush phase](@rushjs/pages/maintainer/phased_builds/). Heft phases may take dependencies on other phases, and when executing multiple phases, all selected phases must complete execution before dependent phases can execute.\\r\\n\\r\\nThe **heft.json** file is where phases and tasks are defined for a given project or rig. Since this file contains the relationships between the phases and tasks, it defines the order of operations for the execution of a Heft action.\\r\\n\\r\\n## Heft actions\\r\\n\\r\\nUsing similar expansion logic to Rush, execution of a selection of Heft phases can be done through the use of the `heft run` action. This action executes a set of selected phases in order of phase dependency. If the selected phases are not dependent upon each other, they will be executed in parallel. Selection parameters include:\\r\\n\\r\\n- `--only` - Execute the specified phase\\r\\n- `--to` - Execute the specified phase and all its dependencies\\r\\n\\r\\nAdditionally, task- and phase-specific parameters may be provided to the `heft run` action by appending `-- <parameters>` to the command. For example, `heft run --only build -- --clean` will run only the `build` phase and will run a clean before executing the phase.\\r\\n\\r\\nIn addition, Heft will generate actions for each phase specified in the **heft.json** configuration. These actions are executed by running `heft <phaseName>` and run Heft to the specified phase, including all phase dependencies. As such, these inferred Heft actions are equivalent to running `heft run --to <phaseName>`, and are intended as a CLI shorthand.\\r\\n\\r\\n## Watch mode\\r\\n\\r\\nWatch mode is now a first-class feature in Heft. Watch mode actions are created for all Heft actions. For example, to run `build` and `test` phases in watch mode, either of the commands `heft test-watch` or `heft run-watch --to test`. When running in watch mode, Heft prefers the `runIncremental` hook to the `run` hook (see [Heft Task Plugins](#heft-task-plugins)).\\r\\n\\r\\n## heft.json structure\\r\\n\\r\\nAll phases are defined within the top-level `phasesByName` property. Each phase may specify `phaseDependencies` to define the order of phase execution when running a selection of Heft phases. Phases may also provide the `cleanFiles` option, which accepts an array of deletion operations to perform when running with the `--clean` flag.\\r\\n\\r\\nWithin the phase specification, `tasksByName` defines all tasks that run while executing a phase. Each task may specify `taskDependencies` to define the order of task execution. All tasks defined in `taskDependencies` must exist within the same phase. For CLI-availability reasons, phase names, task names, plugin names, and parameter scopes, must be `kebab-cased`.\\r\\n\\r\\nThe following is an example \\"heft.json\\" file defining both a `build` and a `test` phase:\\r\\n\\r\\n**heft.json** example for defining phases and tasks\\r\\n\\r\\n```js\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/heft.schema.json\\",\\r\\n  \\"extends\\": \\"base-project/config/heft.json\\",\\r\\n\\r\\n  // \\"phasesByName\\" defines all phases, and each phase defines tasks to be run\\r\\n  \\"phasesByName\\": {\\r\\n    // (\\"build\\" is a user-defined name, not a schema field)\\r\\n    \\"build\\": {\\r\\n      \\"phaseDescription\\": \\"Transpile and run a linter against build output\\",\\r\\n      \\"cleanFiles\\": [\\r\\n        {\\r\\n          \\"sourcePath\\": \\"temp-build-output\\"\\r\\n        }\\r\\n      ],\\r\\n      // \\"tasksByName\\" defines all tasks within a phase\\r\\n      \\"tasksByName\\": {\\r\\n        // (\\"typescript\\" is a user-defined name, not a schema field)\\r\\n        \\"typescript\\": {\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft-typescript-plugin\\"\\r\\n          }\\r\\n        },\\r\\n        \\"lint\\": {\\r\\n          \\"taskDependencies\\": [ \\"typescript\\" ],\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft-lint-plugin\\",\\r\\n            \\"pluginName\\": \\"eslint\\"\\r\\n          }\\r\\n        },\\r\\n        \\"copy-assets\\": {\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft\\",\\r\\n            \\"pluginName\\": \\"copy-files-plugin\\",\\r\\n            \\"options\\": {\\r\\n              \\"copyOperations\\": [\\r\\n                {\\r\\n                  // NOTE: THIS WAS CALLED \\"sourceFolder\\" IN PREVIOUS HEFT VERSIONS\\r\\n                  \\"sourcePath\\": \\"src/assets\\",\\r\\n                  \\"destinationFolders\\": [ \\"dist/assets\\" ]\\r\\n                }\\r\\n              ]\\r\\n            }\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n\\r\\n    // (\\"test\\" is a user-defined name, not a schema field)\\r\\n    \\"test\\": {\\r\\n      \\"phaseDependencies\\": [ \\"build\\" ],\\r\\n      \\"phaseDescription\\": \\"Run Jest tests, if provided.\\",\\r\\n      \\"tasksByName\\": {\\r\\n        // (\\"jest\\" is a user-defined name, not a schema field)\\r\\n        \\"jest\\": {\\r\\n          \\"taskPlugin\\": {\\r\\n            \\"pluginPackage\\": \\"@rushstack/heft-jest-plugin\\"\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\nLifecycle plugins are specified in the top-level `heftPlugins` array. Plugins can be referenced by providing a package name and a plugin name. Optionally, if a package contains only a single plugin, a plugin can be referenced by providing only the package name and Heft will resolve to the only exported plugin. Lifecycle plugins can also be provided options to modify the default behavior.\\r\\n\\r\\n**heft.json** example for loading a lifecycle plugin\\r\\n\\r\\n```js\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/heft.schema.json\\",\\r\\n  \\"extends\\": \\"base-project/config/heft.json\\",\\r\\n\\r\\n  \\"heftPlugins\\": [\\r\\n    {\\r\\n      \\"pluginPackage\\": \\"@rushstack/heft-metrics-reporter\\",\\r\\n      \\"options\\": {\\r\\n        \\"disableMetrics\\": true\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\"pluginPackage\\": \\"@rushstack/heft-initialization-plugin\\",\\r\\n      \\"pluginName\\": \\"my-lifecycle-plugin\\"\\r\\n    }\\r\\n  ]\\r\\n\\r\\n  // (the \\"phasesByName\\" section can also appear here)\\r\\n}\\r\\n```\\r\\n\\r\\n## heft.json property inheritance directives\\r\\n\\r\\nPreviously, common properties between a **heft.json** file its extended base file would merge arrays and overwrite objects. Now, both arrays and objects will merge, allowing for simplified use of the **heft.json** file when customizing extended base configurations.\\r\\n\\r\\nAdditionally, the config file parsers now supports **property inheritance directives** for customizing how JSON properties get merged when using `\\"extends\\"` inheritance. This system is implemented by the [@rushstack/heft-config-file](https://www.npmjs.com/package/@rushstack/heft-config-file) library, and applies to all config files that are loaded using that parser. Overrides are specified by using directives that define inheritance behavior.\\r\\n\\r\\nFor example, assume that we are extending a file with a previously defined `exampleObject` value that is a keyed object, and a `exampleArray` value that is an array object:\\r\\n\\r\\n```js\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/example-config-file.schema.json\\",\\r\\n  \\"extends\\": \\"base-project/config/example-config-file.json\\",\\r\\n\\r\\n  \\"$exampleObject.inheritanceType\\": \\"merge\\", // valid choices are: \\"merge\\", \\"replace\\"\\r\\n  \\"exampleObject\\": {\\r\\n    \\"$exampleObjectMember.inheritanceType\\": \\"merge\\", // valid choices are: \\"merge\\", \\"replace\\"\\r\\n    \\"exampleObjectMember\\": { ... },\\r\\n\\r\\n    \\"$exampleArrayMember.inheritanceType\\": \\"append\\", // valid choices are: \\"append\\", \\"replace\\"\\r\\n    \\"exampleArrayMember\\": [ ... ]\\r\\n  },\\r\\n\\r\\n  \\"$exampleArray.inheritanceType\\": \\"replace\\", // valid choices are: \\"append\\", \\"replace\\"\\r\\n  \\"exampleArray\\": [ ... ]\\r\\n}\\r\\n```\\r\\n\\r\\nOnce an object is set to a `inheritanceType` of override, all sub-property `inheritanceType` values will be ignored, since the top-most object already overrides all sub-properties.\\r\\n\\r\\nOne thing to note is that different `mergeBehavior` verbs are used for the merging of keyed objects and arrays. This is to make it explicit that arrays will be appended as-is, and no additional processing (eg. deduplicating if the array is intended to be a set) is done during merge. If such behavior is required, it can be done on the implementation side. Deduplicating arrays within the `@rushstack/heft-config-file` package doesn\'t quite make sense, since deduplicating arrays of non-primitive objects is not easily defined.\\r\\n\\r\\n## Associated NPM packages\\r\\n\\r\\nMany tasks that were previously built-in to have Heft have been split out into separate NPM packages. The full list:\\r\\n\\r\\n- `@rushstack/heft`\\r\\n- `@rushstack/heft-typescript-plugin`\\r\\n- `@rushstack/heft-lint-plugin`\\r\\n- `@rushstack/heft-api-extractor-plugin`\\r\\n- `@rushstack/heft-jest-plugin`\\r\\n- `@rushstack/heft-sass-plugin`\\r\\n- `@rushstack/heft-storybook-plugin`\\r\\n- `@rushstack/heft-webpack4-plugin`\\r\\n- `@rushstack/heft-webpack5-plugin`\\r\\n- `@rushstack/heft-dev-cert-plugin`\\r\\n\\r\\nAdditionally, Rushstack-provided rigs have been updated to be compatible with the new version of Heft:\\r\\n\\r\\n- `@rushstack/heft-node-rig`\\r\\n- `@rushstack/heft-web-rig`\\r\\n\\r\\n## Authoring Heft plugins\\r\\n\\r\\n### Lifecycle plugins\\r\\n\\r\\nHeft lifecycle plugins provide the implementation for certain lifecycle-related hooks. These plugins will be used across all Heft phases, and as such should be rarely used outside of a few specific cases (such as for metrics reporting). Heft lifecycle plugins provide an `apply()` method, and here plugins can hook into the following Tapable hooks:\\r\\n\\r\\n- `toolStart` - Used to provide plugin-related functionality at the start of Heft execution\\r\\n- `toolFinish` - Used to provide plugin-related functionality at the end of Heft execution, after all tasks are finished\\r\\n- `recordMetrics` - Used to provide metrics information about the Heft run to the plugin after all tasks are finished\\r\\n\\r\\n### Task plugins\\r\\n\\r\\nHeft task plugins provide the implementation for Heft tasks. Heft plugins provide an `apply()` method, and here plugins can hook into the following Tapable hooks:\\r\\n\\r\\n- `registerFileOperations` - Invoked exactly once before the first time a plugin runs. Allows a plugin to register copy or delete operations using the same options as the `copyFiles` and `deleteFiles` Heft events (this hook is how those events are implemented).\\r\\n- `run` - Used to provide plugin-related task functionality\\r\\n- `runIncremental` - Used to provide plugin-related task functionality when in watch mode. If no `runIncremental` implementation is provided for a task, Heft will fall back to using the `run` hook as usual. The options structure includes two functions used to support watch operations:\\r\\n  - `requestRun()` - This function asks the Heft runtime to schedule a new run of the plugin\'s owning task, potentially cancelling the current build.\\r\\n  - `watchGlobAsync(patterns, options)` - This function is provided for convenience for the common case of monitoring a glob for changes. It returns a `Map<string, IWatchedFileState>` that enumerates the list of files (or folders) selected by the glob and whether or not they have changed since the previous invocation. It will automatically invoke the `requestRun()` callback if it detects changes to files or directory listings that might impact the output of the glob.\\r\\n\\r\\n### heft-plugin.json\\r\\n\\r\\nThe **heft-plugin.json** config file is a new, required manifest file that must be present in the package folder of all Heft plugin packages. This file is used for multiple purposes, including the definition of all contained lifecycle or task plugins, the definition of all plugin-specific CLI parameters, and providing an optional schema file to validate plugin options that can be passed via **heft.json**.\\r\\n\\r\\nThe following is an example **heft-plugin.json** file defining a lifecycle plugin and a task plugin:\\r\\n\\r\\n```json\\r\\n{\\r\\n  \\"$schema\\": \\"https://developer.microsoft.com/json-schemas/heft/v0/heft-plugin.schema.json\\",\\r\\n\\r\\n  \\"lifecyclePlugins\\": [\\r\\n    {\\r\\n      \\"pluginName\\": \\"my-lifecycle-plugin\\",\\r\\n      \\"entryPoint\\": \\"./lib/MyLifecyclePlugin.js\\",\\r\\n      \\"optionsSchema\\": \\"./lib/schemas/mylifecycleplugin.schema.json\\",\\r\\n      \\"parameterScope\\": \\"my-lifecycle\\",\\r\\n      \\"parameters\\": [\\r\\n        {\\r\\n          \\"parameterKind\\": \\"string\\",\\r\\n          \\"longName\\": \\"--my-string\\",\\r\\n          \\"description\\": \\"\u2026\\",\\r\\n          \\"argumentName\\": \\"ARG_NAME\\",\\r\\n          \\"required\\": false\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"taskPlugins\\": [\\r\\n    {\\r\\n      \\"pluginName\\": \\"my-task-plugin\\",\\r\\n      \\"entryPoint\\": \\"./lib/MyTaskPlugin.js\\",\\r\\n      \\"optionsSchema\\": \\"./lib/schemas/mytaskplugin.schema.json\\",\\r\\n      \\"parameterScope\\": \\"my-task\\",\\r\\n      \\"parameters\\": [\\r\\n        {\\r\\n          \\"parameterKind\\": \\"string\\",\\r\\n          \\"longName\\": \\"--my-other-string\\",\\r\\n          \\"description\\": \\"\u2026\\",\\r\\n          \\"argumentName\\": \\"ARG_NAME\\",\\r\\n          \\"required\\": false\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n```\\r\\n\\r\\n### Cross-plugin interaction\\r\\n\\r\\nSometimes plugins can benefit by communicating with each other. For example, `@rushstack/heft-lint-plugin` and `@rushstack/heft-typescript-plugin` share a single TypeScript `ts.Program` object, which significantly improves build time by avoiding the need to compute the compiler\'s semantic analysis two times. This optimization brings a constraint that the tasks must share the same Heft phase in your **heft.json** configuration.\\r\\n\\r\\nHow does this work? Heft plugins can use the `requestAccessToPluginByName()` API to access the requested **plugin accessors**. Accessors are objects provided by plugins for external use and are the ideal place to share plugin-specific information or hooks used to provide additional plugin functionality.\\r\\n\\r\\nAccess requests are fulfilled at the beginning of phase execution, prior to `clean` hook execution. If the requested plugin does not provide an accessor, an error will be thrown noting the plugin with the missing accessor. However, if the plugin requested is not present at all, the access request will silently fail. This is done to allow for non-required integrations with external plugins. For this reason, it is important to implement cross-plugin interaction in such a way as to expect this case and to handle it gracefully, or to throw a helpful error.\\r\\n\\r\\nPlugins available for access are restricted based on scope. For lifecycle plugins, you may request access to any other lifecycle plugin added to the Heft configuration. For task plugins, you may request access to any other task plugin residing within the same phase in the Heft configuration.\\r\\n\\r\\n### Custom CLI parameters\\r\\n\\r\\nDefining CLI parameters is now only possible via **heft-plugin.json**, and defined parameters can be consumed in plugins via the `HeftTaskSession.parameters` API. Additionally, all plugin parameters for the selected Heft phases are now discoverable on the CLI when using the `--help` argument (ex. `heft test --help` or `heft run --to test -- --help`).\\r\\n\\r\\nThese parameters can be automatically \\"de-duped\\" on the CLI using an optionally-provided `parameterScope`. By default, parameters defined in **heft-plugin.json** will be available on the CLI using `--<parameterName>` and `--<parameterScope>:<parameterName>`. When multiple plugins provide the same parameter, only the latter parameter will be available on the CLI in order to \\"de-dupe\\" conflicting parameters. For example, if PluginA with parameter scope \\"PluginA\\" defines `--parameter`, and PluginB with parameter scope \\"PluginB\\" also defines `--parameter`, the parameters will _only_ be available as `--PluginA:parameter` and `--PluginB:parameter`.\\r\\n\\r\\nIf you have any questions or feedback regarding these changes to Heft, please [ask in the chatroom](https://rushstack.zulipchat.com/#narrow/stream/262522-heft) or [file an issue](https://github.com/microsoft/rushstack/issues/new?assignees=&labels=&template=heft.md&title=%5Bheft%2Frc%2f0%5D+)."},{"id":"/2023/06/01/blog-launch","metadata":{"permalink":"/blog/2023/06/01/blog-launch","editUrl":"https://github.com/microsoft/rushstack-websites/tree/main/websites/rushstack.io/blog/2023-06-01-blog-launch.md","source":"@site/blog/2023-06-01-blog-launch.md","title":"About the Rush Stack blog","description":"Welcome to the Rush Stack blog! We\'ve added this new website section for sharing news and insights","date":"2023-06-01T00:00:00.000Z","formattedDate":"June 1, 2023","tags":[],"readingTime":0.565,"hasTruncateMarker":true,"authors":[{"name":"Pete Gonzalez","title":"Rush Stack maintainer","url":"https://github.com/octogonz","imageURL":"https://github.com/octogonz.png","key":"octogonz"}],"frontMatter":{"title":"About the Rush Stack blog","authors":["octogonz"],"tags":[],"draft":false,"hide_table_of_contents":false},"prevItem":{"title":"What\'s New in Heft 0.51","permalink":"/blog/2023/06/15/heft-whats-new"}},"content":"Welcome to the **Rush Stack blog**! We\'ve added this new website section for sharing news and insights\\r\\nabout Rush Stack projects.\\r\\n\\r\\nWe\'ll announce new blog posts on [Twitter](https://twitter.com/rushstack)\\r\\nand [Mastodon](https://fosstodon.org/@rushstack). You can also subscribe directly to the blog\'s\\r\\n[RSS](/blog/rss.xml) or [Atom](/blog/atom.xml) feeds.\\r\\n\\r\\n\x3c!--truncate--\x3e\\r\\n\\r\\nWhereas the website docs are primarily reference material, blog topics may include:\\r\\n\\r\\n- Announcement details\\r\\n- Explanations of major changes\\r\\n- Tips about tech to try out\\r\\n- Best practices\\r\\n- Ideas and analyses\\r\\n\\r\\n\x3c!--\\r\\nNOTE: Use Twitter/Mastodon for quick announcements.  The blog should only be\\r\\nused for content that is too large to fit in a tweet.\\r\\n--\x3e\\r\\n\\r\\nIf you\'d like to contribute a blog post, please contact [@octogonz](https://github.com/octogonz)."}]}')}}]);