---
layout: page
navigation_source: api_nav
improve_this_button: false
---
<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@microsoft/rush-lib](./rush-lib.md) &gt; [RushConfiguration](./rush-lib.rushconfiguration.md)

## RushConfiguration class

This represents the Rush configuration for a repository, based on the "rush.json" configuration file.

<b>Signature:</b>

```typescript
export declare class RushConfiguration 
```

## Properties

|  Property | Modifiers | Type | Description |
|  --- | --- | --- | --- |
|  [allowMostlyStandardPackageNames](./rush-lib.rushconfiguration.allowmostlystandardpackagenames.md) |  | boolean | Today the npmjs.com registry enforces fairly strict naming rules for packages, but in the early days there was no standard and hardly any enforcement. A few large legacy projects are still using nonstandard package names, and private registries sometimes allow it. Set "allowMostlyStandardPackageNames" to true to relax Rush's enforcement of package names. This allows upper case letters and in the future may relax other rules, however we want to minimize these exceptions. Many popular tools use certain punctuation characters as delimiters, based on the assumption that they will never appear in a package name; thus if we relax the rules too much it is likely to cause very confusing malfunctions.<!-- -->The default value is false. |
|  [approvedPackagesPolicy](./rush-lib.rushconfiguration.approvedpackagespolicy.md) |  | [ApprovedPackagesPolicy](./rush-lib.approvedpackagespolicy.md) | The "approvedPackagesPolicy" settings. |
|  [changesFolder](./rush-lib.rushconfiguration.changesfolder.md) |  | string | The folder that contains all change files. |
|  [committedShrinkwrapFilename](./rush-lib.rushconfiguration.committedshrinkwrapfilename.md) |  | string | The full path of the shrinkwrap file that is tracked by Git. (The "rush install" command uses a temporary copy, whose path is tempShrinkwrapFilename.) |
|  [commonAutoinstallersFolder](./rush-lib.rushconfiguration.commonautoinstallersfolder.md) |  | string | The fully resolved path for the "autoinstallers" folder. Example: <code>C:\MyRepo\common\autoinstallers</code> |
|  [commonFolder](./rush-lib.rushconfiguration.commonfolder.md) |  | string | The fully resolved path for the "common" folder where Rush will store settings that affect all Rush projects. This is always a subfolder of the folder containing "rush.json". Example: <code>C:\MyRepo\common</code> |
|  [commonRushConfigFolder](./rush-lib.rushconfiguration.commonrushconfigfolder.md) |  | string | The folder where Rush's additional config files are stored. This folder is always a subfolder called <code>config\rush</code> inside the common folder. (The <code>common\config</code> folder is reserved for configuration files used by other tools.) To avoid confusion or mistakes, Rush will report an error if this this folder contains any unrecognized files.<!-- -->Example: <code>C:\MyRepo\common\config\rush</code> |
|  [commonScriptsFolder](./rush-lib.rushconfiguration.commonscriptsfolder.md) |  | string | The folder where automation scripts are stored. This is always a subfolder called "scripts" under the common folder. Example: <code>C:\MyRepo\common\scripts</code> |
|  [commonTempFolder](./rush-lib.rushconfiguration.commontempfolder.md) |  | string | The folder where temporary files will be stored. This is always a subfolder called "temp" under the common folder. Example: <code>C:\MyRepo\common\temp</code> |
|  [commonVersions](./rush-lib.rushconfiguration.commonversions.md) |  | [CommonVersionsConfiguration](./rush-lib.commonversionsconfiguration.md) | Settings from the common-versions.json config file. |
|  [currentInstalledVariant](./rush-lib.rushconfiguration.currentinstalledvariant.md) |  | string \| undefined | Gets the currently-installed variant, if an installation has occurred. For Rush operations which do not take a --variant parameter, this method determines which variant, if any, was last specified when performing "rush install" or "rush update". |
|  [currentVariantJsonFilename](./rush-lib.rushconfiguration.currentvariantjsonfilename.md) |  | string | The filename of the variant dependency data file. By default this is called 'current-variant.json' resides in the Rush common folder. Its data structure is defined by ICurrentVariantJson.<!-- -->Example: <code>C:\MyRepo\common\temp\current-variant.json</code> |
|  [ensureConsistentVersions](./rush-lib.rushconfiguration.ensureconsistentversions.md) |  | boolean | If true, then consistent version specifiers for dependencies will be enforced. I.e. "rush check" is run before some commands. |
|  [eventHooks](./rush-lib.rushconfiguration.eventhooks.md) |  | [EventHooks](./rush-lib.eventhooks.md) | <b><i>(BETA)</i></b> The rush hooks. It allows customized scripts to run at the specified point. |
|  [experimentsConfiguration](./rush-lib.rushconfiguration.experimentsconfiguration.md) |  | [ExperimentsConfiguration](./rush-lib.experimentsconfiguration.md) | <b><i>(BETA)</i></b> This configuration object contains settings repo maintainers have specified to enable and disable experimental Rush features. |
|  [gitAllowedEmailRegExps](./rush-lib.rushconfiguration.gitallowedemailregexps.md) |  | string\[\] | \[Part of the "gitPolicy" feature.\] A list of regular expressions describing allowable email patterns for Git commits. They are case-insensitive anchored JavaScript RegExps. Example: <code>&quot;.*@example\.com&quot;</code> This array will never be undefined. |
|  [gitChangeLogUpdateCommitMessage](./rush-lib.rushconfiguration.gitchangelogupdatecommitmessage.md) |  | string \| undefined | \[Part of the "gitPolicy" feature.\] The commit message to use when committing change log files 'rush version' |
|  [gitSampleEmail](./rush-lib.rushconfiguration.gitsampleemail.md) |  | string | \[Part of the "gitPolicy" feature.\] An example valid email address that conforms to one of the allowedEmailRegExps. Example: <code>&quot;foxtrot@example\.com&quot;</code> This will never be undefined, and will always be nonempty if gitAllowedEmailRegExps is used. |
|  [gitVersionBumpCommitMessage](./rush-lib.rushconfiguration.gitversionbumpcommitmessage.md) |  | string \| undefined | \[Part of the "gitPolicy" feature.\] The commit message to use when committing changes during 'rush publish' |
|  [hotfixChangeEnabled](./rush-lib.rushconfiguration.hotfixchangeenabled.md) |  | boolean | \[Part of the "hotfixChange" feature.\] Enables creating hotfix changes |
|  [npmCacheFolder](./rush-lib.rushconfiguration.npmcachefolder.md) |  | string | The local folder that will store the NPM package cache. Rush does not rely on the npm's default global cache folder, because npm's caching implementation does not reliably handle multiple processes. (For example, if a build box is running "rush install" simultaneously for two different working folders, it may fail randomly.)<!-- -->Example: <code>C:\MyRepo\common\temp\npm-cache</code> |
|  [npmOptions](./rush-lib.rushconfiguration.npmoptions.md) |  | [NpmOptionsConfiguration](./rush-lib.npmoptionsconfiguration.md) | Options that are only used when the NPM package manager is selected. |
|  [npmTmpFolder](./rush-lib.rushconfiguration.npmtmpfolder.md) |  | string | The local folder where npm's temporary files will be written during installation. Rush does not rely on the global default folder, because it may be on a different hard disk.<!-- -->Example: <code>C:\MyRepo\common\temp\npm-tmp</code> |
|  [packageManager](./rush-lib.rushconfiguration.packagemanager.md) |  | [PackageManagerName](./rush-lib.packagemanagername.md) | The name of the package manager being used to install dependencies |
|  [packageManagerOptions](./rush-lib.rushconfiguration.packagemanageroptions.md) |  | [PackageManagerOptionsConfigurationBase](./rush-lib.packagemanageroptionsconfigurationbase.md) | The configuration options used by the current package manager. |
|  [packageManagerToolFilename](./rush-lib.rushconfiguration.packagemanagertoolfilename.md) |  | string | The absolute path to the locally installed NPM tool. If "rush install" has not been run, then this file may not exist yet. Example: <code>C:\MyRepo\common\temp\npm-local\node_modules\.bin\npm</code> |
|  [packageManagerToolVersion](./rush-lib.rushconfiguration.packagemanagertoolversion.md) |  | string | The version of the locally installed NPM tool. (Example: "1.2.3") |
|  [packageManagerWrapper](./rush-lib.rushconfiguration.packagemanagerwrapper.md) |  | [PackageManager](./rush-lib.packagemanager.md) | <b><i>(BETA)</i></b> An abstraction for controlling the supported package managers: PNPM, NPM, and Yarn. |
|  [packageNameParser](./rush-lib.rushconfiguration.packagenameparser.md) |  | [PackageNameParser](./node-core-library.packagenameparser.md) | The rush hooks. It allows customized scripts to run at the specified point. |
|  [pnpmOptions](./rush-lib.rushconfiguration.pnpmoptions.md) |  | [PnpmOptionsConfiguration](./rush-lib.pnpmoptionsconfiguration.md) | Options that are only used when the PNPM package manager is selected. |
|  [projectFolderMaxDepth](./rush-lib.rushconfiguration.projectfoldermaxdepth.md) |  | number | The maximum allowable folder depth for the projectFolder field in the rush.json file. This setting provides a way for repository maintainers to discourage nesting of project folders that makes the directory tree more difficult to navigate. The default value is 2, which implements on a standard convention of <categoryFolder>/<projectFolder>/package.json. |
|  [projectFolderMinDepth](./rush-lib.rushconfiguration.projectfoldermindepth.md) |  | number | The minimum allowable folder depth for the projectFolder field in the rush.json file. This setting provides a way for repository maintainers to discourage nesting of project folders that makes the directory tree more difficult to navigate. The default value is 2, which implements a standard 2-level hierarchy of <categoryFolder>/<projectFolder>/package.json. |
|  [projects](./rush-lib.rushconfiguration.projects.md) |  | [RushConfigurationProject](./rush-lib.rushconfigurationproject.md)<!-- -->\[\] |  |
|  [projectsByName](./rush-lib.rushconfiguration.projectsbyname.md) |  | Map&lt;string, [RushConfigurationProject](./rush-lib.rushconfigurationproject.md)<!-- -->&gt; |  |
|  [repositoryDefaultBranch](./rush-lib.rushconfiguration.repositorydefaultbranch.md) |  | string | The default branch name. This tells "rush change" which remote branch to compare against. |
|  [repositoryDefaultFullyQualifiedRemoteBranch](./rush-lib.rushconfiguration.repositorydefaultfullyqualifiedremotebranch.md) |  | string | The default fully-qualified git remote branch of the repository. This helps "rush change" find the right branch to compare against. |
|  [repositoryDefaultRemote](./rush-lib.rushconfiguration.repositorydefaultremote.md) |  | string | The default remote. This tells "rush change" which remote to compare against if the remote URL is not set or if a remote matching the provided remote URL is not found. |
|  [repositoryUrl](./rush-lib.rushconfiguration.repositoryurl.md) |  | string \| undefined | The remote url of the repository. This helps "rush change" find the right remote to compare against. |
|  [rushJsonFile](./rush-lib.rushconfiguration.rushjsonfile.md) |  | string | The absolute path to the "rush.json" configuration file that was loaded to construct this object. |
|  [rushJsonFolder](./rush-lib.rushconfiguration.rushjsonfolder.md) |  | string | The absolute path of the folder that contains rush.json for this project. |
|  [rushLinkJsonFilename](./rush-lib.rushconfiguration.rushlinkjsonfilename.md) |  | string | The filename of the build dependency data file. By default this is called 'rush-link.json' resides in the Rush common folder. Its data structure is defined by IRushLinkJson.<!-- -->Example: <code>C:\MyRepo\common\temp\rush-link.json</code> |
|  [shrinkwrapFilename](./rush-lib.rushconfiguration.shrinkwrapfilename.md) |  | string | The filename (without any path) of the shrinkwrap file that is used by the package manager. |
|  [shrinkwrapFilePhrase](./rush-lib.rushconfiguration.shrinkwrapfilephrase.md) |  | string | Returns an English phrase such as "shrinkwrap file" that can be used in logging messages to refer to the shrinkwrap file using appropriate terminology for the currently selected package manager. |
|  [suppressNodeLtsWarning](./rush-lib.rushconfiguration.suppressnodeltswarning.md) |  | boolean | Odd-numbered major versions of Node.js are experimental. Even-numbered releases spend six months in a stabilization period before the first Long Term Support (LTS) version. For example, 8.9.0 was the first LTS version of Node.js 8. Pre-LTS versions are not recommended for production usage because they frequently have bugs. They may cause Rush itself to malfunction.<!-- -->Rush normally prints a warning if it detects a pre-LTS Node.js version. If you are testing pre-LTS versions in preparation for supporting the first LTS version, you can use this setting to disable Rush's warning. |
|  [telemetryEnabled](./rush-lib.rushconfiguration.telemetryenabled.md) |  | boolean | <b><i>(BETA)</i></b> Indicates whether telemetry collection is enabled for Rush runs. |
|  [tempShrinkwrapFilename](./rush-lib.rushconfiguration.tempshrinkwrapfilename.md) |  | string | The full path of the temporary shrinkwrap file that is used during "rush install". This file may get rewritten by the package manager during installation. |
|  [tempShrinkwrapPreinstallFilename](./rush-lib.rushconfiguration.tempshrinkwrappreinstallfilename.md) |  | string | The full path of a backup copy of tempShrinkwrapFilename. This backup copy is made before installation begins, and can be compared to determine how the package manager modified tempShrinkwrapFilename. |
|  [versionPolicyConfiguration](./rush-lib.rushconfiguration.versionpolicyconfiguration.md) |  | [VersionPolicyConfiguration](./rush-lib.versionpolicyconfiguration.md) | <b><i>(BETA)</i></b> |
|  [versionPolicyConfigurationFilePath](./rush-lib.rushconfiguration.versionpolicyconfigurationfilepath.md) |  | string | <b><i>(BETA)</i></b> |
|  [yarnCacheFolder](./rush-lib.rushconfiguration.yarncachefolder.md) |  | string | The local folder that will store the Yarn package cache.<!-- -->Example: <code>C:\MyRepo\common\temp\yarn-cache</code> |
|  [yarnOptions](./rush-lib.rushconfiguration.yarnoptions.md) |  | [YarnOptionsConfiguration](./rush-lib.yarnoptionsconfiguration.md) | Options that are only used when the yarn package manager is selected. |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [findProjectByShorthandName(shorthandProjectName)](./rush-lib.rushconfiguration.findprojectbyshorthandname.md) |  | This is used e.g. by command-line interfaces such as "rush build --to example". If "example" is not a project name, then it also looks for a scoped name like <code>@something/example</code>. If exactly one project matches this heuristic, it is returned. Otherwise, undefined is returned. |
|  [findProjectByTempName(tempProjectName)](./rush-lib.rushconfiguration.findprojectbytempname.md) |  | Looks up a project by its RushConfigurationProject.tempProjectName field. |
|  [findProjectForPosixRelativePath(posixRelativePath)](./rush-lib.rushconfiguration.findprojectforposixrelativepath.md) |  | Finds the project that owns the specified POSIX relative path (e.g. apps/rush-lib). The path is case-sensitive, so will only return a project if its projectRelativePath matches the casing. |
|  [getCommittedShrinkwrapFilename(variant)](./rush-lib.rushconfiguration.getcommittedshrinkwrapfilename.md) |  | Gets the committed shrinkwrap file name for a specific variant. |
|  [getCommonVersions(variant)](./rush-lib.rushconfiguration.getcommonversions.md) |  | Gets the settings from the common-versions.json config file for a specific variant. |
|  [getCommonVersionsFilePath(variant)](./rush-lib.rushconfiguration.getcommonversionsfilepath.md) |  | Gets the path to the common-versions.json config file for a specific variant. |
|  [getImplicitlyPreferredVersions(variant)](./rush-lib.rushconfiguration.getimplicitlypreferredversions.md) |  | Returns a map of all direct dependencies that only have a single semantic version specifier. |
|  [getPnpmfilePath(variant)](./rush-lib.rushconfiguration.getpnpmfilepath.md) |  | Gets the absolute path for "pnpmfile.js" for a specific variant. |
|  [getProjectByName(projectName)](./rush-lib.rushconfiguration.getprojectbyname.md) |  | Looks up a project in the projectsByName map. If the project is not found, then undefined is returned. |
|  [getRepoState(variant)](./rush-lib.rushconfiguration.getrepostate.md) |  | Gets the contents from the repo-state.json file for a specific variant. |
|  [getRepoStateFilePath(variant)](./rush-lib.rushconfiguration.getrepostatefilepath.md) |  | Gets the path to the repo-state.json file for a specific variant. |
|  [loadFromConfigurationFile(rushJsonFilename)](./rush-lib.rushconfiguration.loadfromconfigurationfile.md) | <code>static</code> | Loads the configuration data from an Rush.json configuration file and returns an RushConfiguration object. |
|  [loadFromDefaultLocation(options)](./rush-lib.rushconfiguration.loadfromdefaultlocation.md) | <code>static</code> |  |
|  [tryFindRushJsonLocation(options)](./rush-lib.rushconfiguration.tryfindrushjsonlocation.md) | <code>static</code> | Find the rush.json location and return the path, or undefined if a rush.json can't be found. |
|  [tryGetProjectForPath(currentFolderPath)](./rush-lib.rushconfiguration.trygetprojectforpath.md) |  | Returns the project for which the specified path is underneath that project's folder. If the path is not under any project's folder, returns undefined. |

